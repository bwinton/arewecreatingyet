<!DOCTYPE html>
<html lang="en" ng-app="foxographApp">
  <!-- Do I need class="ng-scope" ? -->
  <head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="/r/styles/bootstrap.min.css" type="text/css" rel="stylesheet">
    <link href="/r/styles/style.css" type="text/css" rel="stylesheet">
    <link href="/r/styles/bugzillaMockup.css" type="text/css" rel="stylesheet">
  </head>
  <body class="ng-scope" ng-init="auth.email=<%= email %>"
    style="{{background}}" >
    <div class="main-header" ng-controller="HeaderCtrl">
      <!-- Project Menu -->
      <div id="projects">
        <!-- Should have a "." in the ng-model, I think, maybe. -->
        <input type="text" placeholder="Filter projects…" ng-model="projectSearch"
               style="padding-bottom: 0; margin-bottom: 0"><br>
        <select id="project-list" ng-model="selectedProject"
                style="padding-top: 0; margin-top: 0"
                ng-options="'[' + c.user + '] ' + c.name for c in projects | filter:projectSearch">
        </select>
      </div>

      <!-- Current Project, and mockup. -->
      <div id="project" class="displayHeader">
        <h1>{{mainTitle}}</h1>
        <br>
        <a ng-show="prevMockupId" class="link"
           ng-href="/{{project._id}}/{{prevMockupId}}">«</a>
        <span>{{subTitle}}</span>
        <a ng-show="nextMockupId" class="link"
           ng-href="/{{project._id}}/{{nextMockupId}}">»</a>
        <a ng-show="auth.email && auth.email == project.user && !nextMockupId"
           ng-click="addMockup(project)" class="link">+</a>
      </div>

      <!-- User box -->
      <user auth="auth"></user>
      <button type="submit" class="btn" ng-show="auth.email"
        ng-click="createProject()">Create New Project</button>

    </div>

    <div ui-view></div>

    <!-- Third-party library code -->
    <script src="/r/js/lib/jquery/jquery.js" type="text/javascript"></script>
    <script src="/r/js/lib/lodash/dist/lodash.js" type="text/javascript"></script>
    <script src="https://login.persona.org/include.js" type="text/javascript"></script>
    <script src="/r/js/lib/angular/angular.js" type="text/javascript"></script>
    <script src="/r/js/lib/restangular/dist/restangular.js"
      type="text/javascript"></script>
    <script src="/r/js/lib/angular-ui-router/release/angular-ui-router.js"></script>

    <!-- First-party library code -->
    <script src="/r/js/lib/bugzillaMockup.js" type="text/javascript"></script>
    <script src="/r/js/lib/angular-tools/persona.js" type="text/javascript"></script>
    <script src="/r/js/lib/angular-tools/image.js" type="text/javascript"></script>

    <!-- App code -->
    <script src="/r/js/app.js" type="text/javascript"></script>
    <script src="/r/js/services.js" type="text/javascript"></script>
    <script src="/r/js/controllers/HeaderCtrl.js" type="text/javascript"></script>
    <script src="/r/js/controllers/ProjectsCtrl.js" type="text/javascript"></script>
    <script src="/r/js/controllers/MockupCtrl.js" type="text/javascript"></script>
    <script src="/r/js/controllers/NewMockupCtrl.js" type="text/javascript"></script>
    <script src="/r/js/filters.js" type="text/javascript"></script>
    <script src="/r/js/directives.js" type="text/javascript"></script>
  </body>

  <canvas id="background-canvas" width="1" height="1"></canvas>
</html>