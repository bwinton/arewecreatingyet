<!DOCTYPE html>
<html lang="en" ng-app="foxographApp">
  <!-- Do I need class="ng-scope" ? -->
  <head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="/r/styles/bootstrap.min.css" type="text/css" rel="stylesheet">
    <link href="/r/styles/style.css" type="text/css" rel="stylesheet">
    <link href="/r/styles/bugzillaMockup.css" type="text/css" rel="stylesheet">
  </head>
  <body class="ng-scope" ng-controller="ProjectsCtrl" style="{{background}}">
    <div class="main-header">
      <!-- Project Menu -->
      <div id="projects">
        <!-- Should have a "." in the ng-model, I think, maybe. -->
        <input type="text" placeholder="Filter projectsâ€¦" data-ng-model="projectSearch"
               style="padding-bottom: 0; margin-bottom: 0"><br>
        <select id="project-list" ng-model="selectedProject" ng-change="changeProject()"
                style="padding-top: 0; margin-top: 0"
                ng-options="'[' + c.user + '] ' + c.name for c in projects | orderBy:['name','user'] | filter:projectSearch">
          <option value="">Please select a project</option>
        </select>
      </div>

      <!-- Current Project, and mockup. -->
      <div id="project">
        <h1 class="ng-binding">{{project.name || "Please select a project."}}</h1>
      </div>

      <!-- User box -->
      <div id="user">
      </div>

    </div>

    <div id="mockup-wrapper" ng-show="mockup" ng-controller="MockupCtrl">
      <p id="mockup" style="{{mockup.width}} {{mockup.height}} {{mockup.position}} {{mockup.image}}"></p>
      <div id="bugs">
        <div ng-repeat="mockupsummary in mockups"  class="bugList">
          <h4>{{mockupsummary.name}}</h4>
          <ul>
            <li ng-repeat="bug in bugs | filter:{mockup:mockupsummary._id}"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id={{bug.number}}">bug {{bug.number}}</a> (at {{bug.x}}x{{bug.y}})</li>
          </ul>
        </div>
      </div>
    </div>

    <script src="/r/js/lib/underscore.js" type="text/javascript"></script>
    <script src="/r/js/lib/angular/angular.js" type="text/javascript"></script>
    <script src="/r/js/lib/angular/angular-resource.js" type="text/javascript"></script>
    <script src="/r/js/app.js" type="text/javascript"></script>
    <script src="/r/js/services.js" type="text/javascript"></script>
    <script src="/r/js/controllers.js" type="text/javascript"></script>
    <script src="/r/js/filters.js" type="text/javascript"></script>
    <script src="/r/js/directives.js" type="text/javascript"></script>
  </body>

  <canvas id="background-canvas" width="1" height="1"></canvas>
</html>